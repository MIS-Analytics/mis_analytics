[
  {
    "objectID": "desapher.html",
    "href": "desapher.html",
    "title": "DeSAPher",
    "section": "",
    "text": "Working with SAP systems often means dealing with hundreds of tables with cryptic names like MARA, VBAK, or MAKT. Understanding what these tables contain and how they relate to each other traditionally requires extensive documentation lookup or SAP expertise.",
    "crumbs": [
      "DeSAPher"
    ]
  },
  {
    "objectID": "desapher.html#the-problem",
    "href": "desapher.html#the-problem",
    "title": "DeSAPher",
    "section": "",
    "text": "Working with SAP systems often means dealing with hundreds of tables with cryptic names like MARA, VBAK, or MAKT. Understanding what these tables contain and how they relate to each other traditionally requires extensive documentation lookup or SAP expertise.",
    "crumbs": [
      "DeSAPher"
    ]
  },
  {
    "objectID": "desapher.html#our-solution",
    "href": "desapher.html#our-solution",
    "title": "DeSAPher",
    "section": "Our Solution",
    "text": "Our Solution\nWe created a tool that automatically fetches and structures SAP table definitions from online documentation. This gives us instant access to: - Field names and their meanings - Data types and lengths - Relationships between tables (via check tables) - Comprehensive descriptions of each field - Table names and descriptions",
    "crumbs": [
      "DeSAPher"
    ]
  },
  {
    "objectID": "desapher.html#benefits",
    "href": "desapher.html#benefits",
    "title": "DeSAPher",
    "section": "Benefits",
    "text": "Benefits\n\nTime Saving: No more manual documentation lookups\nBetter Understanding: Clear visibility of table structures and meanings\nEasier Data Analysis: Quick reference for field names and their purposes\nKnowledge Sharing: Makes SAP data structures more accessible to team members",
    "crumbs": [
      "DeSAPher"
    ]
  },
  {
    "objectID": "desapher.html#future-directions",
    "href": "desapher.html#future-directions",
    "title": "DeSAPher",
    "section": "Future Directions",
    "text": "Future Directions\n\n1. Interactive Interface\n\nBuild a searchable interface for quick table/field lookups\nImplement full-text search across descriptions\nAdd semantic search using LLMs to find relevant tables by describing needs in plain English\n\n\n\n2. Visual Data Model\n\nCreate interactive graph visualizations showing table relationships\nHighlight primary/foreign key connections\nEnable visual exploration of the SAP data model\n\n\n\n3. AI-Powered Data Assistant\n\nUse LLMs with our structured documentation as context\nGenerate SQL queries from natural language questions\nSuggest relevant tables for specific business questions\nProvide data model explanations in plain language",
    "crumbs": [
      "DeSAPher"
    ]
  },
  {
    "objectID": "desapher.html#steps",
    "href": "desapher.html#steps",
    "title": "DeSAPher",
    "section": "Steps",
    "text": "Steps\n\nScrape column description for one table (for example, MARA)\nBring it in to a easily serachable format\nApply process to all tables\n\n\nScrape column description for one table (for example, MARA)\n\nurl = 'https://www.sapdatasheet.org/abap/tabl/mara.html'\n\n\nresponse = httpx.get(url)\nresponse\n\n&lt;Response [200 OK]&gt;\n\n\n\nsample_text = '''\n&lt;table class=\"table table-sm\"&gt;\n                                &lt;caption class=\"text-right sapds-alv\"&gt;\n                                    &lt;a href=\"/download/abap-tabl-component.php?format=csv&amp;tabname=MARA\" title=\"Download components as CSV file.\nThe downloaded file contains more columns than displayed here.\" target=\"_blank\"&gt;\n                                        &lt;img src=\"/abap/icon/s_wdvtxe.gif\"&gt;&lt;/a&gt; &nbsp;\n                                    &lt;a href=\"/download/abap-tabl-component.php?format=xls&amp;tabname=MARA\" title=\"Download components as Excel 97-2003 Worksheet (.xls) file.\nThe downloaded file contains more columns than displayed here.\" target=\"_blank\"&gt;\n                                        &lt;img src=\"/abap/icon/s_x__xls.gif\"&gt;&lt;/a&gt; &nbsp;\n                                    &lt;a href=\"/download/abap-tabl-component.php?format=xlsx&amp;tabname=MARA\" title=\"Download components as Excel Open XML Format Spreadsheet (.xlsx) file.\nThe downloaded file contains more columns than displayed here.\" target=\"_blank\"&gt;\n                                        &lt;img src=\"/abap/icon/s_lisvie.gif\"&gt;&lt;/a&gt; &nbsp;\n                                &lt;/caption&gt;\n                                &lt;thead&gt;\n                                    &lt;tr&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; &lt;img src=\"/abap/icon/s_b_pvre.gif\"&gt; &lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Field &lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Key &lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Data Element&lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Domain&lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Data&lt;br&gt;Type&lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Length&lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Decimal&lt;br&gt;Places&lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Short Description&lt;/th&gt;\n                                        &lt;th class=\"sapds-alv\"&gt; Check&lt;br&gt;table&lt;/th&gt;\n                                    &lt;/tr&gt;\n                                &lt;/thead&gt;\n                                &lt;tbody&gt;\n                                                                            &lt;tr&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a id=\"FIELD_MANDT\"&gt;&lt;/a&gt; 1 &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;img src=\"/abap/icon/s_struct.gif\"&gt;                                                 &lt;a href=\"/abap/tabl/mara-mandt.html\" title=\"MANDT\" target=\"_blank\"&gt;MANDT&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv text-center\"&gt; &lt;input type=\"checkbox\" name=\"field_MANDT\" disabled=\"disabled\" checked=\"checked\"&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/dtel/mandt.html\" title=\"Client\" target=\"_blank\"&gt;MANDT&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/mandt.html\" title=\"Client (key field in client-specific tables)\" target=\"_blank\"&gt;MANDT&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/datatype.html#values\" title=\"Dictionary Data Type\" target=\"_blank\"&gt;CLNT&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv text-right\"&gt; 3 &nbsp; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv text-right\"&gt; 0 &nbsp; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; Client &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/tabl/t000.html\" title=\"Clients\" target=\"_blank\"&gt;T000&lt;/a&gt; &lt;/td&gt;\n                                        &lt;/tr&gt;\n                                                                            &lt;tr&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a id=\"FIELD_FASHGRD\"&gt;&lt;/a&gt; 239 &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;img src=\"/abap/icon/s_struct.gif\"&gt;                                                 &lt;a href=\"/abap/tabl/mara-fashgrd.html\" title=\"FASHGRD\" target=\"_blank\"&gt;FASHGRD&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv text-center\"&gt; &lt;input type=\"checkbox\" name=\"field_FASHGRD\" disabled=\"disabled\"&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/dtel/fashgrd.html\" title=\"Fashion Grade\" target=\"_blank\"&gt;FASHGRD&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/fashgrd.html\" title=\"Fashion Grade\" target=\"_blank\"&gt;FASHGRD&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/datatype.html#values\" title=\"Dictionary Data Type\" target=\"_blank\"&gt;CHAR&lt;/a&gt; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv text-right\"&gt; 4 &nbsp; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv text-right\"&gt; 0 &nbsp; &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; Fashion Grade &lt;/td&gt;\n                                            &lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/tabl/t6wfg.html\" title=\"Degree of Fashion\" target=\"_blank\"&gt;T6WFG&lt;/a&gt; &lt;/td&gt;\n                                        &lt;/tr&gt;\n                                                                    &lt;/tbody&gt;\n                            &lt;/table&gt;'''\n\n\nsoup = BeautifulSoup(response.text, 'lxml')\ntable = soup.find('table', class_='table table-sm')\n\n\n\nBring it in to a easily serachable format\n\nheaders = [th.text.strip() for th in table.find('thead').find_all('th')]\nheaders\n\n['',\n 'Field',\n 'Key',\n 'Data Element',\n 'Domain',\n 'DataType',\n 'Length',\n 'DecimalPlaces',\n 'Short Description',\n 'Checktable']\n\n\n\ntrs = [tr for tr in table.find('tbody').find_all('tr')]\ntrs[0]\n\n&lt;tr&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a id=\"FIELD_MANDT\"&gt;&lt;/a&gt; 1 &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;img src=\"/abap/icon/s_struct.gif\"/&gt; &lt;a href=\"/abap/tabl/mara-mandt.html\" target=\"_blank\" title=\"MANDT\"&gt;MANDT&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv text-center\"&gt; &lt;input checked=\"checked\" disabled=\"disabled\" name=\"field_MANDT\" type=\"checkbox\"/&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/dtel/mandt.html\" target=\"_blank\" title=\"Client\"&gt;MANDT&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/mandt.html\" target=\"_blank\" title=\"Client (key field in client-specific tables)\"&gt;MANDT&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/datatype.html#values\" target=\"_blank\" title=\"Dictionary Data Type\"&gt;CLNT&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv text-right\"&gt; 3 ¬† &lt;/td&gt;\n&lt;td class=\"sapds-alv text-right\"&gt; 0 ¬† &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; Client &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/tabl/t000.html\" target=\"_blank\" title=\"Clients\"&gt;T000&lt;/a&gt; &lt;/td&gt;\n&lt;/tr&gt;\n\n\n\ntrs[1]\n\n&lt;tr&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a id=\"FIELD_MATNR\"&gt;&lt;/a&gt; 2 &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;img src=\"/abap/icon/s_struct.gif\"/&gt; &lt;a href=\"/abap/tabl/mara-matnr.html\" target=\"_blank\" title=\"MATNR\"&gt;MATNR&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv text-center\"&gt; &lt;input checked=\"checked\" disabled=\"disabled\" name=\"field_MATNR\" type=\"checkbox\"/&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/dtel/matnr.html\" target=\"_blank\" title=\"Material Number\"&gt;MATNR&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/matnr.html\" target=\"_blank\" title=\"Material number (field C18)\"&gt;MATNR&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; &lt;a href=\"/abap/doma/datatype.html#values\" target=\"_blank\" title=\"Dictionary Data Type\"&gt;CHAR&lt;/a&gt; &lt;/td&gt;\n&lt;td class=\"sapds-alv text-right\"&gt; 18 ¬† &lt;/td&gt;\n&lt;td class=\"sapds-alv text-right\"&gt; 0 ¬† &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; Material Number &lt;/td&gt;\n&lt;td class=\"sapds-alv\"&gt; ¬† &lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n[td.text.strip() for td in trs[1].find_all('td')]\n\n['2', 'MATNR', '', 'MATNR', 'MATNR', 'CHAR', '18', '0', 'Material Number', '']\n\n\n\nrows = []\nfor tr in table.find('tbody').find_all('tr'):\n    row = [td.text.strip() for td in tr.find_all('td')]\n    rows.append(row)\n\nrows[10]\n\n['11',\n 'MTART',\n '',\n 'MTART',\n 'MTART',\n 'CHAR',\n '4',\n '0',\n 'Material type',\n 'T134']\n\n\n\ndf = pd.DataFrame(rows, columns=headers)\ndf.head()\n\n\n\n\n\n\n\n\n\nField\nKey\nData Element\nDomain\nDataType\nLength\nDecimalPlaces\nShort Description\nChecktable\n\n\n\n\n0\n1\nMANDT\n\nMANDT\nMANDT\nCLNT\n3\n0\nClient\nT000\n\n\n1\n2\nMATNR\n\nMATNR\nMATNR\nCHAR\n18\n0\nMaterial Number\n\n\n\n2\n3\n.INCLUDE\n\n\n\n\n0\n0\nData Division MARA\n\n\n\n3\n4\nERSDA\n\nERSDA\nDATUM\nDATS\n8\n0\nCreated On\n\n\n\n4\n5\nERNAM\n\nERNAM\nUSNAM\nCHAR\n12\n0\nName of Person who Created the Object\n\n\n\n\n\n\n\n\n\nsource\n\n\nget_sap_table_structure\n\ndef get_sap_table_structure(\n    url\n):\n\nScrapes SAP table structure from sapdatasheet.org and returns a pandas DataFrame\n\ndf = get_sap_table_structure(url)\ndf.head()\n\n\n\n\n\n\n\n\n\nField\nKey\nData Element\nDomain\nDataType\nLength\nDecimalPlaces\nShort Description\nChecktable\n\n\n\n\n0\n1\nMANDT\n\nMANDT\nMANDT\nCLNT\n3\n0\nClient\nT000\n\n\n1\n2\nMATNR\n\nMATNR\nMATNR\nCHAR\n18\n0\nMaterial Number\n\n\n\n2\n3\n.INCLUDE\n\n\n\n\n0\n0\nData Division MARA\n\n\n\n3\n4\nERSDA\n\nERSDA\nDATUM\nDATS\n8\n0\nCreated On\n\n\n\n4\n5\nERNAM\n\nERNAM\nUSNAM\nCHAR\n12\n0\nName of Person who Created the Object\n\n\n\n\n\n\n\n\n\nurl_2 = 'https://www.sapdatasheet.org/abap/tabl/makt.html'\n\ndf_2 = get_sap_table_structure(url_2)\ndf_2\n\n\n\n\n\n\n\n\n\nField\nKey\nData Element\nDomain\nDataType\nLength\nDecimalPlaces\nShort Description\nChecktable\n\n\n\n\n0\n1\nMANDT\n\nMANDT\nMANDT\nCLNT\n3\n0\nClient\nT000\n\n\n1\n2\nMATNR\n\nMATNR\nMATNR\nCHAR\n18\n0\nMaterial Number\nMARA\n\n\n2\n3\nSPRAS\n\nSPRAS\nSPRAS\nLANG\n1\n0\nLanguage Key\nT002\n\n\n3\n4\nMAKTX\n\nMAKTX\nTEXT40\nCHAR\n40\n0\nMaterial description\n\n\n\n4\n5\nMAKTG\n\nMAKTG\nCHAR40\nCHAR\n40\n0\nMaterial description in upper case for matchcodes\n\n\n\n\n\n\n\n\n\n\nApply process to all tables\n\nsource\n\n\nget_sap_table_url\n\ndef get_sap_table_url(\n    table_name\n):\n\nConstructs sapdatasheet.org URL from SAP table name\n\nget_sap_table_url('VBAK')\n\n'https://www.sapdatasheet.org/abap/tabl/vbak.html'\n\n\n\nsource\n\n\nget_sap_tables_structure\n\ndef get_sap_tables_structure(\n    tables\n):\n\nGets structure for multiple SAP tables and combines them into one DataFrame with a column indicating the source table\n\nsource\n\n\nget_sap_table_structure\n\ndef get_sap_table_structure(\n    url\n):\n\nScrapes SAP table structure from sapdatasheet.org and returns a pandas DataFrame Returns None if table not found or other error occurs\n\nsource\n\n\nget_sap_tables_structure\n\ndef get_sap_tables_structure(\n    tables\n):\n\nGets structure for multiple SAP tables and combines them into one DataFrame with a column indicating the source table\n\ntables = ['MARC', 'MARD', 'MARM', 'MBEW']\n\n\ndf = get_sap_tables_structure(tables)\ndf.sample(10)\n\n\n\n\n\n\n\n\n\nField\nKey\nData Element\nDomain\nDataType\nLength\nDecimalPlaces\nShort Description\nChecktable\nTable\n\n\n\n\n368\n59\n.INCLUDE\n\n\n\n\n0\n0\nJoint Data Part MBEW/EBEW/QBEW: Part 3\n\nMBEW\n\n\n394\n85\nPDATZ\n\nCK_PDATZ\nGJAHR\nNUMC\n4\n0\nFuture fiscal year\n\nMBEW\n\n\n302\n23\nKZWSO\n\nKZWSO\nKZWSO\nCHAR\n1\n0\nUnits of measure usage\n\nMARM\n\n\n281\n2\nMATNR\n\nMATNR\nMATNR\nCHAR\n18\n0\nMaterial Number\nMARA\nMARM\n\n\n262\n34\nLBSTF\n\nLBSTF\nMENG13\nQUAN\n13\n3\nReplenishment quantity for storage location MRP\n\nMARD\n\n\n97\n98\nMTVER\n\nMTVER\nMTVER\nCHAR\n4\n0\nExport/import material group\nTVFM\nMARC\n\n\n57\n58\nUEETK\n\nUEETK\nXFELD\nCHAR\n1\n0\nIndicator: Unlimited overdelivery allowed\n\nMARC\n\n\n222\n223\n.INCLUDE\n\n\n\n\n0\n0\nMARC Extension with New Fields - Seasonal Proc...\n\nMARC\n\n\n215\n216\n.INCLU--AP\n\n\n\n\n0\n0\nItem Unique Identification Fields\n\nMARC\n\n\n415\n106\nFBWST\n\nCK_ZBWST\nCK_BWST\nCHAR\n1\n0\nValn strategy for future planned price, restr....\n\nMBEW\n\n\n\n\n\n\n\n\n\nLet‚Äôs also grab the table description for each table.\n\nurl\n\n'https://www.sapdatasheet.org/abap/tabl/mara.html'\n\n\n\nsource\n\n\nget_sap_table_description\n\ndef get_sap_table_description(\n    url\n):\n\nScrapes SAP table description from sapdatasheet.org Returns None if not found or error occurs\n\nget_sap_table_description(url)\n\n'SAP ABAP Table MARA (General Material Data)'\n\n\n\nsource\n\n\nget_sap_tables_structure\n\ndef get_sap_tables_structure(\n    tables\n):\n\nGets structure for multiple SAP tables and combines them into one DataFrame with a column indicating the source table\n\nsap_sheet = get_sap_tables_structure(tables)\nsap_sheet.sample(10)\n\n\n\n\n\n\n\n\n\nField\nKey\nData Element\nDomain\nDataType\nLength\nDecimalPlaces\nShort Description\nChecktable\nTable\nTable Description\n\n\n\n\n328\n19\nVMVER\n\nVMVER\nWERT11V\nCURR\n11\n2\nMoving Average Price/Periodic Unit Price in Pr...\n\nMBEW\nSAP ABAP Table MBEW (Material Valuation)\n\n\n95\n96\nHERKR\n\nHERKR\nREGIO\nCHAR\n3\n0\nRegion of origin of material (non-preferential...\nT005S\nMARC\nSAP ABAP Table MARC (Plant Data for Material)\n\n\n140\n141\nPRENO\n\nPRENN\nPRENN\nCHAR\n8\n0\nExemption certificate number for legal control\n\nMARC\nSAP ABAP Table MARC (Plant Data for Material)\n\n\n143\n144\nPRENG\n\nPRENG\nPRENG\nDATS\n8\n0\nValidity date of vendor declaration\n\nMARC\nSAP ABAP Table MARC (Plant Data for Material)\n\n\n191\n192\nLTINC\n\nCSCP_LOTINCREMENT\nMENG13\nQUAN\n13\n3\nLot size increment for Supply Demand Match\n\nMARC\nSAP ABAP Table MARC (Plant Data for Material)\n\n\n302\n23\nKZWSO\n\nKZWSO\nKZWSO\nCHAR\n1\n0\nUnits of measure usage\n\nMARM\nSAP ABAP Table MARM (Units of Measure for Mate...\n\n\n375\n66\nBWPH1\n\nBWPH1\nWERT11\nCURR\n11\n2\nValuation price based on commercial law: level 2\n\nMBEW\nSAP ABAP Table MBEW (Material Valuation)\n\n\n233\n5\n.INCLUDE\n\n\n\n\n0\n0\nData Division MARD\n\nMARD\nSAP ABAP Table MARD (Storage Location Data for...\n\n\n184\n185\nVSPVB\n\nVSPVB\nPRVBE\nCHAR\n10\n0\nProposed Supply Area in Material Master Record\nPVBE\nMARC\nSAP ABAP Table MARC (Plant Data for Material)\n\n\n414\n105\nVBWST\n\nCK_VBWST\nCK_BWST\nCHAR\n1\n0\nValn. strategy for prev. planned price, restri...\n\nMBEW\nSAP ABAP Table MBEW (Material Valuation)\n\n\n\n\n\n\n\n\nsap_sheet['Table Description'].unique()\n\narray(['SAP ABAP Table MARC (Plant Data for Material)',\n       'SAP ABAP Table MARD (Storage Location Data for Material)',\n       'SAP ABAP Table MARM (Units of Measure for Material)',\n       'SAP ABAP Table MBEW (Material Valuation)'], dtype=object)\n\n\n\ndata = {\n    'MANDT': [100, 100, 100],\n    'MATNR': ['MAT001', 'MAT002', 'MAT003'],\n    'WERKS': ['1000', '1000', '2000'],\n    'PSTAT': ['KVEB', 'KVEB', 'KVEB'],\n    'LVORM': [None, None, None],\n    'BWTTY': [None, None, None],\n    'MMSTA': ['1', '1', '9'],\n    'MMSTD': [20200101, 20200115, 20210201],\n    'MAABC': ['A', 'B', None],\n    'KZKRI': [None, None, None],\n    'EKGRP': ['100', '100', '200'],\n    'DISPO': ['001', '001', '002'],\n    'BESKZ': ['E', 'E', 'X'],\n    'SOBSL': [None, None, None],\n    'EISBE': [10.0, 20.0, 15.0],\n    'MABST': [100.0, 200.0, 150.0],\n    'ALTSL': [None, None, None],\n    'KZAUS': [None, None, None],\n    'AUSDT': [0, 0, 0],\n    'NFMAT': [None, None, None],\n    'KZBED': [None, 'T', None],\n    'RGEKZ': [None, None, None],\n    'FEVOR': ['G01', None, 'G02'],\n    'BASMG': [1.0, 1.0, 1.0],\n    'STAWN': ['84141025', '84141025', '84148073'],\n    'HERKL': ['DE', 'DE', 'US'],\n    'HERKR': ['05', '05', '16'],\n    'EXPME': ['ST', 'ST', 'ST'],\n    'MTVER': ['1', '1', '1'],\n    'PRCTR': ['PC100', 'PC100', 'PC200'],\n    'VERKZ': [None, 'X', None],\n    'STLAL': [None, None, None],\n    'STLAN': [None, None, None],\n    'PLNNR': [None, None, None],\n    'APLAL': [None, None, None],\n    'FRTME': [None, None, None],\n    'LGPRO': ['1001', '1001', '2001'],\n    'DISGR': ['2000', '2000', '6000'],\n    'SERNP': [None, None, None],\n    'PREFE': [None, None, None],\n    'PRENE': [None, None, None],\n    'SCHGT': [None, None, None],\n    'MCRUE': ['X', 'X', 'X'],\n    'LFGJA': [2024, 2024, 2025],\n    'EISLO': [0.0, 0.0, 0.0],\n    'TARGET_STOCK': [50.0, 100.0, 75.0],\n    'SCM_SCOST': [0.0, 0.0, 0.0],\n    'SCM_LSUOM': [None, None, None],\n    'SCM_STRA1': [None, None, None],\n}\n\ndf_marc = pd.DataFrame(data)\ndf_marc\n\n\n\n\n\n\n\n\nMANDT\nMATNR\nWERKS\nPSTAT\nLVORM\nBWTTY\nMMSTA\nMMSTD\nMAABC\nKZKRI\n...\nPREFE\nPRENE\nSCHGT\nMCRUE\nLFGJA\nEISLO\nTARGET_STOCK\nSCM_SCOST\nSCM_LSUOM\nSCM_STRA1\n\n\n\n\n0\n100\nMAT001\n1000\nKVEB\nNone\nNone\n1\n20200101\nA\nNone\n...\nNone\nNone\nNone\nX\n2024\n0.0\n50.0\n0.0\nNone\nNone\n\n\n1\n100\nMAT002\n1000\nKVEB\nNone\nNone\n1\n20200115\nB\nNone\n...\nNone\nNone\nNone\nX\n2024\n0.0\n100.0\n0.0\nNone\nNone\n\n\n2\n100\nMAT003\n2000\nKVEB\nNone\nNone\n9\n20210201\nNone\nNone\n...\nNone\nNone\nNone\nX\n2025\n0.0\n75.0\n0.0\nNone\nNone\n\n\n\n\n3 rows √ó 49 columns\n\n\n\n\nsource\n\n\nconvert_sap_types\n\ndef convert_sap_types(\n    df:DataFrame, sap_sheet:DataFrame\n)-&gt;DataFrame:\n\nConverts the columns of the ‚Äòdf‚Äô DataFrame to the correct data types based on ‚Äòsap_sheet‚Äô.\n:param df: Pandas DataFrame containing SAP table data (e.g., ‚Äúdf‚Äù). :param sap_sheet: Pandas DataFrame containing SAP metadata with column data types. :return: Converted Pandas DataFrame.\n\ndf_marc.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 3 entries, 0 to 2\nData columns (total 49 columns):\n #   Column        Non-Null Count  Dtype  \n---  ------        --------------  -----  \n 0   MANDT         3 non-null      int64  \n 1   MATNR         3 non-null      object \n 2   WERKS         3 non-null      object \n 3   PSTAT         3 non-null      object \n 4   LVORM         0 non-null      object \n 5   BWTTY         0 non-null      object \n 6   MMSTA         3 non-null      object \n 7   MMSTD         3 non-null      int64  \n 8   MAABC         2 non-null      object \n 9   KZKRI         0 non-null      object \n 10  EKGRP         3 non-null      object \n 11  DISPO         3 non-null      object \n 12  BESKZ         3 non-null      object \n 13  SOBSL         0 non-null      object \n 14  EISBE         3 non-null      float64\n 15  MABST         3 non-null      float64\n 16  ALTSL         0 non-null      object \n 17  KZAUS         0 non-null      object \n 18  AUSDT         3 non-null      int64  \n 19  NFMAT         0 non-null      object \n 20  KZBED         1 non-null      object \n 21  RGEKZ         0 non-null      object \n 22  FEVOR         2 non-null      object \n 23  BASMG         3 non-null      float64\n 24  STAWN         3 non-null      object \n 25  HERKL         3 non-null      object \n 26  HERKR         3 non-null      object \n 27  EXPME         3 non-null      object \n 28  MTVER         3 non-null      object \n 29  PRCTR         3 non-null      object \n 30  VERKZ         1 non-null      object \n 31  STLAL         0 non-null      object \n 32  STLAN         0 non-null      object \n 33  PLNNR         0 non-null      object \n 34  APLAL         0 non-null      object \n 35  FRTME         0 non-null      object \n 36  LGPRO         3 non-null      object \n 37  DISGR         3 non-null      object \n 38  SERNP         0 non-null      object \n 39  PREFE         0 non-null      object \n 40  PRENE         0 non-null      object \n 41  SCHGT         0 non-null      object \n 42  MCRUE         3 non-null      object \n 43  LFGJA         3 non-null      int64  \n 44  EISLO         3 non-null      float64\n 45  TARGET_STOCK  3 non-null      float64\n 46  SCM_SCOST     3 non-null      float64\n 47  SCM_LSUOM     0 non-null      object \n 48  SCM_STRA1     0 non-null      object \ndtypes: float64(6), int64(4), object(39)\nmemory usage: 1.3+ KB\n\n\n\ndf_marc_converted = convert_sap_types(df_marc, sap_sheet)\ndf_marc_converted.head()\n\n\n\n\n\n\n\n\nMANDT\nMATNR\nWERKS\nPSTAT\nLVORM\nBWTTY\nMMSTA\nMMSTD\nMAABC\nKZKRI\n...\nPREFE\nPRENE\nSCHGT\nMCRUE\nLFGJA\nEISLO\nTARGET_STOCK\nSCM_SCOST\nSCM_LSUOM\nSCM_STRA1\n\n\n\n\n0\n100\nMAT001\n1000\nKVEB\nNone\nNone\n1\n1970-01-01 00:00:00.020200101\nA\nNone\n...\nNone\nNone\nNone\nX\n2024\n0.0\n50.0\n0.0\nNone\nNone\n\n\n1\n100\nMAT002\n1000\nKVEB\nNone\nNone\n1\n1970-01-01 00:00:00.020200115\nB\nNone\n...\nNone\nNone\nNone\nX\n2024\n0.0\n100.0\n0.0\nNone\nNone\n\n\n2\n100\nMAT003\n2000\nKVEB\nNone\nNone\n9\n1970-01-01 00:00:00.020210201\nNone\nNone\n...\nNone\nNone\nNone\nX\n2025\n0.0\n75.0\n0.0\nNone\nNone\n\n\n\n\n3 rows √ó 49 columns\n\n\n\n\ndf_marc_converted.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 3 entries, 0 to 2\nData columns (total 49 columns):\n #   Column        Non-Null Count  Dtype         \n---  ------        --------------  -----         \n 0   MANDT         3 non-null      object        \n 1   MATNR         3 non-null      object        \n 2   WERKS         3 non-null      object        \n 3   PSTAT         3 non-null      object        \n 4   LVORM         3 non-null      object        \n 5   BWTTY         3 non-null      object        \n 6   MMSTA         3 non-null      object        \n 7   MMSTD         3 non-null      datetime64[ns]\n 8   MAABC         3 non-null      object        \n 9   KZKRI         3 non-null      object        \n 10  EKGRP         3 non-null      object        \n 11  DISPO         3 non-null      object        \n 12  BESKZ         3 non-null      object        \n 13  SOBSL         3 non-null      object        \n 14  EISBE         3 non-null      float64       \n 15  MABST         3 non-null      float64       \n 16  ALTSL         3 non-null      object        \n 17  KZAUS         3 non-null      object        \n 18  AUSDT         3 non-null      datetime64[ns]\n 19  NFMAT         3 non-null      object        \n 20  KZBED         3 non-null      object        \n 21  RGEKZ         3 non-null      object        \n 22  FEVOR         3 non-null      object        \n 23  BASMG         3 non-null      float64       \n 24  STAWN         3 non-null      object        \n 25  HERKL         3 non-null      object        \n 26  HERKR         3 non-null      object        \n 27  EXPME         3 non-null      object        \n 28  MTVER         3 non-null      object        \n 29  PRCTR         3 non-null      object        \n 30  VERKZ         3 non-null      object        \n 31  STLAL         3 non-null      object        \n 32  STLAN         3 non-null      object        \n 33  PLNNR         3 non-null      object        \n 34  APLAL         3 non-null      object        \n 35  FRTME         3 non-null      object        \n 36  LGPRO         3 non-null      object        \n 37  DISGR         3 non-null      object        \n 38  SERNP         3 non-null      object        \n 39  PREFE         3 non-null      object        \n 40  PRENE         3 non-null      object        \n 41  SCHGT         3 non-null      object        \n 42  MCRUE         3 non-null      object        \n 43  LFGJA         3 non-null      object        \n 44  EISLO         3 non-null      float64       \n 45  TARGET_STOCK  3 non-null      float64       \n 46  SCM_SCOST     3 non-null      float64       \n 47  SCM_LSUOM     0 non-null      object        \n 48  SCM_STRA1     0 non-null      object        \ndtypes: datetime64[ns](2), float64(6), object(41)\nmemory usage: 1.3+ KB\n\n\n\nsource\n\n\nrename_sap_columns\n\ndef rename_sap_columns(\n    df:DataFrame, sap_sheet:DataFrame\n)-&gt;DataFrame:\n\nRenames the columns in the ‚Äòdf‚Äô DataFrame using the ‚ÄòShort Description‚Äô from ‚Äòsap_sheet‚Äô. If a column is not found in ‚Äòsap_sheet‚Äô, it remains unchanged.\n:param df: Pandas DataFrame containing SAP table data (e.g., ‚Äúdf‚Äù). :param sap_sheet: Pandas DataFrame containing SAP metadata with column names and short descriptions. :return: DataFrame with renamed columns.\n\ndf_marc_converted = rename_sap_columns(df_marc_converted, sap_sheet)\ndf_marc_converted.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 3 entries, 0 to 2\nData columns (total 49 columns):\n #   Column                                                       Non-Null Count  Dtype         \n---  ------                                                       --------------  -----         \n 0   Client                                                       3 non-null      object        \n 1   Material Number                                              3 non-null      object        \n 2   Plant                                                        3 non-null      object        \n 3   Maintenance status                                           3 non-null      object        \n 4   Deletion flag for all material data of a valuation type      3 non-null      object        \n 5   Valuation Category                                           3 non-null      object        \n 6   Plant-Specific Material Status                               3 non-null      object        \n 7   Date from which the plant-specific material status is valid  3 non-null      datetime64[ns]\n 8   ABC indicator                                                3 non-null      object        \n 9   Indicator: Critical part                                     3 non-null      object        \n 10  Purchasing group                                             3 non-null      object        \n 11  MRP controller                                               3 non-null      object        \n 12  Procurement Type                                             3 non-null      object        \n 13  Special procurement type                                     3 non-null      object        \n 14  Safety stock                                                 3 non-null      float64       \n 15  Maximum stock level                                          3 non-null      float64       \n 16  Method for Selecting Alternative Bills of Material           3 non-null      object        \n 17  Discontinuation indicator                                    3 non-null      object        \n 18  Effective-out date                                           3 non-null      datetime64[ns]\n 19  Follow-up material                                           3 non-null      object        \n 20  Indicator for Requirements Grouping                          3 non-null      object        \n 21  Indicator: Backflush                                         3 non-null      object        \n 22  Production Supervisor                                        3 non-null      object        \n 23  Base quantity                                                3 non-null      float64       \n 24  Commodity Code/Import Code Number for Foreign Trade          3 non-null      object        \n 25  Country of origin of the material                            3 non-null      object        \n 26  Region of origin of material (non-preferential origin)       3 non-null      object        \n 27  Unit of measure for commodity code (foreign trade)           3 non-null      object        \n 28  Export/import material group                                 3 non-null      object        \n 29  Profit Center                                                3 non-null      object        \n 30  Version indicator                                            3 non-null      object        \n 31  Alternative BOM                                              3 non-null      object        \n 32  BOM Usage                                                    3 non-null      object        \n 33  Key for Task List Group                                      3 non-null      object        \n 34  Group Counter                                                3 non-null      object        \n 35  Production unit                                              3 non-null      object        \n 36  Issue storage location                                       3 non-null      object        \n 37  MRP Group                                                    3 non-null      object        \n 38  Serial Number Profile                                        3 non-null      object        \n 39  Preference indicator in export/import                        3 non-null      object        \n 40  Indicator: Vendor declaration exists                         3 non-null      object        \n 41  Indicator: bulk material                                     3 non-null      object        \n 42  MARDH rec. already exists for per. before last of MARD per.  3 non-null      object        \n 43  Fiscal Year of Current Period                                3 non-null      object        \n 44  Minimum Safety Stock                                         3 non-null      float64       \n 45  Target Stock                                                 3 non-null      float64       \n 46  SCM_SCOST                                                    3 non-null      float64       \n 47  SCM_LSUOM                                                    0 non-null      object        \n 48  SCM_STRA1                                                    0 non-null      object        \ndtypes: datetime64[ns](2), float64(6), object(41)\nmemory usage: 1.3+ KB\n\n\n\ndf_marc_converted = clean_col_names(df_marc_converted)\ndf_marc_converted.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 3 entries, 0 to 2\nData columns (total 49 columns):\n #   Column                                                       Non-Null Count  Dtype         \n---  ------                                                       --------------  -----         \n 0   client                                                       3 non-null      object        \n 1   material_number                                              3 non-null      object        \n 2   plant                                                        3 non-null      object        \n 3   maintenance_status                                           3 non-null      object        \n 4   deletion_flag_for_all_material_data_of_a_valuation_type      3 non-null      object        \n 5   valuation_category                                           3 non-null      object        \n 6   plant_specific_material_status                               3 non-null      object        \n 7   date_from_which_the_plant_specific_material_status_is_valid  3 non-null      datetime64[ns]\n 8   abc_indicator                                                3 non-null      object        \n 9   indicator_critical_part                                      3 non-null      object        \n 10  purchasing_group                                             3 non-null      object        \n 11  mrp_controller                                               3 non-null      object        \n 12  procurement_type                                             3 non-null      object        \n 13  special_procurement_type                                     3 non-null      object        \n 14  safety_stock                                                 3 non-null      float64       \n 15  maximum_stock_level                                          3 non-null      float64       \n 16  method_for_selecting_alternative_bills_of_material           3 non-null      object        \n 17  discontinuation_indicator                                    3 non-null      object        \n 18  effective_out_date                                           3 non-null      datetime64[ns]\n 19  follow_up_material                                           3 non-null      object        \n 20  indicator_for_requirements_grouping                          3 non-null      object        \n 21  indicator_backflush                                          3 non-null      object        \n 22  production_supervisor                                        3 non-null      object        \n 23  base_quantity                                                3 non-null      float64       \n 24  commodity_code_import_code_number_for_foreign_trade          3 non-null      object        \n 25  country_of_origin_of_the_material                            3 non-null      object        \n 26  region_of_origin_of_material_non_preferential_origin         3 non-null      object        \n 27  unit_of_measure_for_commodity_code_foreign_trade             3 non-null      object        \n 28  export_import_material_group                                 3 non-null      object        \n 29  profit_center                                                3 non-null      object        \n 30  version_indicator                                            3 non-null      object        \n 31  alternative_bom                                              3 non-null      object        \n 32  bom_usage                                                    3 non-null      object        \n 33  key_for_task_list_group                                      3 non-null      object        \n 34  group_counter                                                3 non-null      object        \n 35  production_unit                                              3 non-null      object        \n 36  issue_storage_location                                       3 non-null      object        \n 37  mrp_group                                                    3 non-null      object        \n 38  serial_number_profile                                        3 non-null      object        \n 39  preference_indicator_in_export_import                        3 non-null      object        \n 40  indicator_vendor_declaration_exists                          3 non-null      object        \n 41  indicator_bulk_material                                      3 non-null      object        \n 42  mardh_rec_already_exists_for_per_before_last_of_mard_per     3 non-null      object        \n 43  fiscal_year_of_current_period                                3 non-null      object        \n 44  minimum_safety_stock                                         3 non-null      float64       \n 45  target_stock                                                 3 non-null      float64       \n 46  scm_scost                                                    3 non-null      float64       \n 47  scm_lsuom                                                    0 non-null      object        \n 48  scm_stra1                                                    0 non-null      object        \ndtypes: datetime64[ns](2), float64(6), object(41)\nmemory usage: 1.3+ KB",
    "crumbs": [
      "DeSAPher"
    ]
  },
  {
    "objectID": "core.html",
    "href": "core.html",
    "title": "core",
    "section": "",
    "text": "source\n\n\n\ndef move_columns(\n    df:DataFrame, # Input\n    cols_to_move:str, # Single\n    pos:int, # Target\n)-&gt;DataFrame:\n\nMove one or more columns to a specified position in a DataFrame.\n\ndf = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6], 'C': [7, 8, 9]})\ndf\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\n0\n1\n4\n7\n\n\n1\n2\n5\n8\n\n\n2\n3\n6\n9\n\n\n\n\n\n\n\n\nmove_columns(df, 'C', 0)\n\n\n\n\n\n\n\n\nC\nA\nB\n\n\n\n\n0\n7\n1\n4\n\n\n1\n8\n2\n5\n\n\n2\n9\n3\n6\n\n\n\n\n\n\n\n\nsample_string = 'KnotenNr. der St√ºcklistenposition'\n\n\nsample_string = sample_string.lower()\nsample_string\n\n'knotennr. der st√ºcklistenposition'\n\n\n\n[c for c in sample_string][:10]\n\n['k', 'n', 'o', 't', 'e', 'n', 'n', 'r', '.', ' ']\n\n\n\n[c.isalnum() for c in sample_string][:10]\n\n[True, True, True, True, True, True, True, True, False, False]\n\n\n\n[c if c.isalnum() else '_' for c in sample_string][:10]\n\n['k', 'n', 'o', 't', 'e', 'n', 'n', 'r', '_', '_']\n\n\n\nsample_string = \"\".join([c if c.isalnum() else '_' for c in sample_string])\nsample_string\n\n'knotennr__der_st√ºcklistenposition'\n\n\n\nsample_string.split('_')\n\n['knotennr', '', 'der', 'st√ºcklistenposition']\n\n\n\n[o for o in filter(None, sample_string.split('_'))]\n\n['knotennr', 'der', 'st√ºcklistenposition']\n\n\n\n'_'.join(filter(None,sample_string.split('_')))\n\n'knotennr_der_st√ºcklistenposition'\n\n\n\nsource\n\n\n\n\ndef clean_string(\n    input_string:str\n):\n\nCleans input_string\n\nclean_string(sample_string)\n\n'knotennr_der_st√ºcklistenposition'\n\n\n\nsource\n\n\n\n\ndef clean_col_names(\n    df:DataFrame\n)-&gt;DataFrame:\n\nReturns df with clean column names by using clean_string on each column name.\n\ndf.head(2)\n\n\n\n\n\n\n\n\nCust_ID.\nOrder--Date\nPrdct.Name!\nQTY___Ordered\nUnit$Price\n\n\n\n\n0\n101\n2024-02-01\nWidget A\n10\n99.99\n\n\n1\n102\n2024-02-02\nWidget B\n20\n149.99\n\n\n\n\n\n\n\n\ndf = clean_col_names(df)\ndf.head(2)\n\n\n\n\n\n\n\n\ncust_id\norder_date\nprdct_name\nqty_ordered\nunit_price\n\n\n\n\n0\n101\n2024-02-01\nWidget A\n10\n99.99\n\n\n1\n102\n2024-02-02\nWidget B\n20\n149.99",
    "crumbs": [
      "core"
    ]
  },
  {
    "objectID": "core.html#column-helpers",
    "href": "core.html#column-helpers",
    "title": "core",
    "section": "",
    "text": "source\n\n\n\ndef move_columns(\n    df:DataFrame, # Input\n    cols_to_move:str, # Single\n    pos:int, # Target\n)-&gt;DataFrame:\n\nMove one or more columns to a specified position in a DataFrame.\n\ndf = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6], 'C': [7, 8, 9]})\ndf\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\n0\n1\n4\n7\n\n\n1\n2\n5\n8\n\n\n2\n3\n6\n9\n\n\n\n\n\n\n\n\nmove_columns(df, 'C', 0)\n\n\n\n\n\n\n\n\nC\nA\nB\n\n\n\n\n0\n7\n1\n4\n\n\n1\n8\n2\n5\n\n\n2\n9\n3\n6\n\n\n\n\n\n\n\n\nsample_string = 'KnotenNr. der St√ºcklistenposition'\n\n\nsample_string = sample_string.lower()\nsample_string\n\n'knotennr. der st√ºcklistenposition'\n\n\n\n[c for c in sample_string][:10]\n\n['k', 'n', 'o', 't', 'e', 'n', 'n', 'r', '.', ' ']\n\n\n\n[c.isalnum() for c in sample_string][:10]\n\n[True, True, True, True, True, True, True, True, False, False]\n\n\n\n[c if c.isalnum() else '_' for c in sample_string][:10]\n\n['k', 'n', 'o', 't', 'e', 'n', 'n', 'r', '_', '_']\n\n\n\nsample_string = \"\".join([c if c.isalnum() else '_' for c in sample_string])\nsample_string\n\n'knotennr__der_st√ºcklistenposition'\n\n\n\nsample_string.split('_')\n\n['knotennr', '', 'der', 'st√ºcklistenposition']\n\n\n\n[o for o in filter(None, sample_string.split('_'))]\n\n['knotennr', 'der', 'st√ºcklistenposition']\n\n\n\n'_'.join(filter(None,sample_string.split('_')))\n\n'knotennr_der_st√ºcklistenposition'\n\n\n\nsource\n\n\n\n\ndef clean_string(\n    input_string:str\n):\n\nCleans input_string\n\nclean_string(sample_string)\n\n'knotennr_der_st√ºcklistenposition'\n\n\n\nsource\n\n\n\n\ndef clean_col_names(\n    df:DataFrame\n)-&gt;DataFrame:\n\nReturns df with clean column names by using clean_string on each column name.\n\ndf.head(2)\n\n\n\n\n\n\n\n\nCust_ID.\nOrder--Date\nPrdct.Name!\nQTY___Ordered\nUnit$Price\n\n\n\n\n0\n101\n2024-02-01\nWidget A\n10\n99.99\n\n\n1\n102\n2024-02-02\nWidget B\n20\n149.99\n\n\n\n\n\n\n\n\ndf = clean_col_names(df)\ndf.head(2)\n\n\n\n\n\n\n\n\ncust_id\norder_date\nprdct_name\nqty_ordered\nunit_price\n\n\n\n\n0\n101\n2024-02-01\nWidget A\n10\n99.99\n\n\n1\n102\n2024-02-02\nWidget B\n20\n149.99",
    "crumbs": [
      "core"
    ]
  },
  {
    "objectID": "core.html#validate-functions",
    "href": "core.html#validate-functions",
    "title": "core",
    "section": "validate functions",
    "text": "validate functions\nTests to check if we use out of scope variables inside function\n\na = 10\n\n\ndef my_sum(b):\n    return a + b\n\nmy_sum(32)\n\n42\n\n\n\nimport inspect\n\n\n# inspect.getclosurevars(eval(\"my_sum\"))\ninspect.getclosurevars(my_sum)\n\nClosureVars(nonlocals={}, globals={'a': 10}, builtins={}, unbound=set())\n\n\n\ndef my_callback(result):\n    print(\"Cell just finished running!\")\n\nget_ipython().events.register('post_run_cell', my_callback)\n\nCell just finished running!\n\n\n\nget_ipython().events.unregister('post_run_cell', my_callback)\n\n\nimport ast\n\nFunctions defined: ['check_funcs']\n\n\n\ndef check_funcs(result):\n    tree = ast.parse(result.info.raw_cell)\n    func_names = [node.name for node in ast.walk(tree) if isinstance(node, ast.FunctionDef)]\n    if func_names:\n        print(f\"Functions defined: {func_names}\")\n\n\nget_ipython().events.register('post_run_cell', check_funcs)\n\n\nget_ipython().events.unregister('post_run_cell', check_funcs)\n\n\ndef check_funcs(result):\n    tree = ast.parse(result.info.raw_cell)\n    func_names = [node.name for node in ast.walk(tree) if isinstance(node, ast.FunctionDef)]\n    if func_names:\n        print(f\"Functions defined: {func_names}\")\n\nFunctions defined: ['check_funcs']\n\n\n\nget_ipython().events.register('post_run_cell', check_funcs)\n\n\nget_ipython().events.unregister('post_run_cell', check_funcs)\n\n\nimport ast\nimport inspect\n\n\ndef check_global_deps(result):\n    tree = ast.parse(result.info.raw_cell)\n    func_names = [node.name for node in ast.walk(tree) if isinstance(node, ast.FunctionDef)]\n    \n    ns = get_ipython().user_ns\n    for name in func_names:\n        if name in ns:\n            func = ns[name]\n            cv = inspect.getclosurevars(func)\n            if cv.globals:\n                print(f\"‚ö†Ô∏è  '{name}' depends on global variables: {list(cv.globals.keys())}\")\n\n\nget_ipython().events.register('post_run_cell', check_global_deps)\n\n\ndef my_sum(b):\n    return a + b\n\nmy_sum(32)\n\n42\n\n\n‚ö†Ô∏è  'my_sum' depends on global variables: ['a']\n\n\n\nget_ipython().events.unregister('post_run_cell', check_global_deps)",
    "crumbs": [
      "core"
    ]
  },
  {
    "objectID": "etl.html",
    "href": "etl.html",
    "title": "ETL",
    "section": "",
    "text": "We want to try to build up some functionality to create etl pipelines for pandas operations. We want to define classic extract, transform and load functions which we can string together in a pipeline. We would also like to add some functionality to inspect the intermediate dataframes and some key properties.",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "etl.html#our-plan",
    "href": "etl.html#our-plan",
    "title": "ETL",
    "section": "",
    "text": "We want to try to build up some functionality to create etl pipelines for pandas operations. We want to define classic extract, transform and load functions which we can string together in a pipeline. We would also like to add some functionality to inspect the intermediate dataframes and some key properties.",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "etl.html#our-background",
    "href": "etl.html#our-background",
    "title": "ETL",
    "section": "Our background",
    "text": "Our background\nWe work as Data Science Consultants mainly with SME‚Äôs in manufacturing. We often have to build up etl pipelines from various sources to then use for analytics or ML workloads. The pipelines can get pretty complex with custom business logic, that why we want to have a way to quickly show all the steps we take.\nTools available from fastcore.tools:\n\n&rg: Run the rg command with the args in argstr (no need to backslash escape)\n&sed: Run the sed command with the args in argstr (e.g for reading a section of a file)\n&view: View directory or file contents with optional line range and numbers\n&create: Creates a new file with the given content at the specified path\n&insert: Insert new_str at specified line number\n&str_replace: Replace first occurrence of old_str with new_str in file\n&strs_replace: Replace for each str pair in old_strs,new_strs\n&replace_lines: Replace lines in file using start and end line-numbers\n\n\n# Sample manufacturing data\ndata = {\n    'order_id': [101, 102, 103, 104, 105],\n    'product': ['Widget A', 'Widget B', 'Widget A', 'Widget C', 'Widget B'],\n    'quantity': [50, 30, 75, 20, 45],\n    'defects': [2, 1, 3, 0, 2],\n    'production_time': [120, 95, 150, 80, 110]  # in minutes\n}\n\ndf = pd.DataFrame(data)\ndf\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n\n\n\n\n\n\nsource\n\nget_demo_data\n\ndef get_demo_data(\n    \n):\n\n\ndf[df[\"product\"] != \"Widget C\"].groupby([\"product\"])[[\"quantity\", \"defects\" ,\"production_time\"]].sum()\n\n\n\n\n\n\n\n\nquantity\ndefects\nproduction_time\n\n\nproduct\n\n\n\n\n\n\n\nWidget A\n125\n5\n270\n\n\nWidget B\n75\n3\n205",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "etl.html#print-name-and-time",
    "href": "etl.html#print-name-and-time",
    "title": "ETL",
    "section": "print name and time",
    "text": "print name and time\n\nprint(15*'*' + ' ' + meta_dict['step_name'] + ' ' + 15*'*')\n\n*************** filter_products ***************\n\n\n\nprint(f'Total Time: {meta_dict[\"total_time\"]}')\nprint(f'Start: {meta_dict[\"in_time\"]}')\nprint(f'End: {meta_dict[\"out_time\"]}')\n\nTotal Time: 0:00:00.001287\nStart: 2025-12-18 16:09:32.626829\nEnd: 2025-12-18 16:09:32.627481\n\n\nis there a convenient way to print the time_delta in different formats according to the time elapsed (eg ms, s, min, etc)?\n\nü§ñReplyü§ñ\nGood question! There isn‚Äôt a built-in method for timedelta to auto-format based on magnitude, but you can write a simple helper function. Here‚Äôs a compact approach:\ndef format_timedelta(td):\n    total_seconds = td.total_seconds()\n    if total_seconds &lt; 0.001:\n        return f\"{total_seconds * 1_000_000:.0f} ¬µs\"\n    elif total_seconds &lt; 1:\n        return f\"{total_seconds * 1000:.2f} ms\"\n    elif total_seconds &lt; 60:\n        return f\"{total_seconds:.2f} s\"\n    elif total_seconds &lt; 3600:\n        return f\"{total_seconds / 60:.2f} min\"\n    else:\n        return f\"{total_seconds / 3600:.2f} h\"\nYou could then use it like:\nprint(f'Total Time: {format_timedelta(meta_dict[\"total_time\"])}')\nWould you like to try this out with your meta_dict?\n\nsource\n\n\nformat_timedelta\n\ndef format_timedelta(\n    td\n):\n\n\nprint(f'Total Time: {format_timedelta(meta_dict[\"total_time\"])}')\n\nTotal Time: 1.29 ms\n\n\n\nsource\n\n\nprint_step_name\n\ndef print_step_name(\n    meta_dict\n):\n\n\nprint_step_name(meta_dict)\n\n*************** filter_products ***************\n\n\n\nsource\n\n\nprint_time\n\ndef print_time(\n    meta_dict\n):\n\n\nprint_time(meta_dict)\n\nTotal Time: 1.29 ms\n\nStart: 2025-12-18 16:09:32.626829\n  End: 2025-12-18 16:09:32.627481",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "etl.html#print-sample-df",
    "href": "etl.html#print-sample-df",
    "title": "ETL",
    "section": "print sample df",
    "text": "print sample df\n\npd.concat([meta_dict['in_df_head'], meta_dict['in_df_sample'], meta_dict['in_df_tail']])\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n\n\n\n\n\n\npd.DataFrame(np.nan, index=range(1), columns=meta_dict['in_df_head'].columns)\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\npd.DataFrame(np.nan, index=range(1), columns=meta_dict['in_df_head'].columns).fillna('...')\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n...\n...\n...\n...\n...\n\n\n\n\n\n\n\n\npd.DataFrame(np.nan, index=range(3), columns=meta_dict['in_df_head'].columns).fillna('.')\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n.\n.\n.\n.\n.\n\n\n1\n.\n.\n.\n.\n.\n\n\n2\n.\n.\n.\n.\n.\n\n\n\n\n\n\n\n\npd.DataFrame(np.nan, index=range(1), columns=meta_dict['in_df_head'].columns).fillna(':')\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n:\n:\n:\n:\n:\n\n\n\n\n\n\n\n\nsource\n\nfill_between_df_parts\n\ndef fill_between_df_parts(\n    df\n):\n\n\nfill_between_df_parts(meta_dict['in_df_head'])\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n\n:\n:\n:\n:\n:\n\n\n\n\n\n\n\n\npd.concat(\n    [meta_dict['in_df_head'], \n    fill_between_df_parts(meta_dict['in_df_head']),\n    meta_dict['in_df_sample'], \n    fill_between_df_parts(meta_dict['in_df_head']),\n    meta_dict['in_df_tail']]\n    )\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n\n:\n:\n:\n:\n:\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n\n:\n:\n:\n:\n:\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n\n\n\n\n\nWe want to build to functions: 1. a display function for within our wrapper which only uses the meta_dict 2. a display function that just takes in one df and gets the head, sample, tail from there\nIn the future we might want to turn this into one function but for now we don‚Äôt want to store the whole df in meta_dict\n\nsource\n\n\nprint_sample_from_meta_dict\n\ndef print_sample_from_meta_dict(\n    meta_dict, mode:str='in'\n):\n\n\nprint_sample_from_meta_dict(meta_dict)\n\n  order_id   product quantity defects production_time\n0      101  Widget A       50       2             120\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n         :         :        :       :               :\n2      103  Widget A       75       3             150\n4      105  Widget B       45       2             110\n1      102  Widget B       30       1              95\n0      101  Widget A       50       2             120\n3      104  Widget C       20       0              80\n         :         :        :       :               :\n2      103  Widget A       75       3             150\n3      104  Widget C       20       0              80\n4      105  Widget B       45       2             110\n\n\n\nsource\n\n\ndisplay_sample_from_df\n\ndef display_sample_from_df(\n    df\n):\n\n\ndisplay_sample_from_df(df)\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n\n:\n:\n:\n:\n:\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n\n:\n:\n:\n:\n:\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n\n\n\n\n\nWe will have to also consider what happen if we have to many columns.\nOur idea is to truncate them as well and just add a dummy columns with ‚Äò‚Ä¶‚Äô as sign that its truncated",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "etl.html#print-shape-and-shape-change",
    "href": "etl.html#print-shape-and-shape-change",
    "title": "ETL",
    "section": "print shape and shape change",
    "text": "print shape and shape change\n\nprint('(rows, columns) =', meta_dict['in_df_shape'])\nprint('        |          ')\nprint('        V          ')\nprint('(rows, columns) =', meta_dict['out_df_shape'])\n\n(rows, columns) = (5, 5)\n        |          \n        V          \n(rows, columns) = (4, 5)\n\n\n\nprint('(rows, columns) =', meta_dict['in_df_shape'])\nprint(' ‚Üì '*8)\nprint('(rows, columns) =', meta_dict['out_df_shape'])\n\n(rows, columns) = (5, 5)\n ‚Üì  ‚Üì  ‚Üì  ‚Üì  ‚Üì  ‚Üì  ‚Üì  ‚Üì \n(rows, columns) = (4, 5)\n\n\n\nin_str = f\"{meta_dict['in_df_shape'][0]} rows, {meta_dict['in_df_shape'][1]} columns\"\nprint(in_str)\nprint('‚Üì ‚Üì ‚Üì'.center(len(in_str), ' '))\nprint(f\"{meta_dict['out_df_shape'][0]} rows, {meta_dict['out_df_shape'][1]} columns\")\n\n5 rows, 5 columns\n      ‚Üì ‚Üì ‚Üì      \n4 rows, 5 columns\n\n\nis there a convenietn way to space out a number of strings over a specific length?\n\nü§ñReplyü§ñ\nYou could use string formatting with padding! Here are a couple of approaches:\n1. Using f-strings with alignment:\ns1, s2, s3 = \"5 rows\", \"4 columns\", \"time: 1.2ms\"\ntotal_width = 50\nprint(f\"{s1:&lt;{total_width//3}}{s2:&lt;{total_width//3}}{s3}\")\n2. Using str.ljust() / str.center() / str.rjust():\nwidth = 20\nprint(s1.ljust(width) + s2.center(width) + s3.rjust(width))\n3. For evenly spacing multiple strings, you could calculate spacing:\ndef space_strings(strings, total_width):\n    gap = (total_width - sum(len(s) for s in strings)) // (len(strings) - 1)\n    return (' ' * gap).join(strings)\nWhich approach fits what you‚Äôre trying to do with your pipeline display?\n\ns1, s2, s3 = \"5 rows\", \"4 columns\", \"time: 1.2ms\"\ntotal_width = 50\nprint(f\"{s1:&lt;{total_width//3}}{s2:&lt;{total_width//3}}{s3}\")\n\n5 rows          4 columns       time: 1.2ms\n\n\n\nwidth = 20\nprint(s1.ljust(width) + s2.center(width) + s3.rjust(width))\n\n5 rows                   4 columns               time: 1.2ms\n\n\n\nsource\n\n\nspace_strings\n\ndef space_strings(\n    strings, total_width\n):\n\n\nspace_strings(['|', '|', '|'], 20)\n\n'|        |        |'\n\n\n\nlen(space_strings(['|', '|', '|'], 20))\n\n19\n\n\n\nin_str = f\"{meta_dict['in_df_shape'][0]} rows, {meta_dict['in_df_shape'][1]} columns\"\nprint(in_str)\nprint(space_strings(['‚Üì','‚Üì','‚Üì'], len(in_str)))\nprint(f\"{meta_dict['out_df_shape'][0]} rows, {meta_dict['out_df_shape'][1]} columns\")\n\n5 rows, 5 columns\n‚Üì       ‚Üì       ‚Üì\n4 rows, 5 columns\n\n\n\nin_rows, in_cols = meta_dict['in_df_shape']\nout_rows, out_cols = meta_dict['out_df_shape']\n\nin_str = f\"{in_rows} rows, {in_cols} columns\"\nprint(in_str)\nprint(space_strings(['‚Üì','‚Üì','‚Üì'], len(in_str)))\n\nprint(f'{str(out_rows-in_rows).center(len(in_str)//2)}', f'{str(out_cols-in_cols).center(len(in_str)//2)}')\n\nprint(space_strings(['‚Üì','‚Üì','‚Üì'], len(in_str)))\nprint(f\"{out_rows} rows, {out_cols} columns\")\n\n5 rows, 5 columns\n‚Üì       ‚Üì       ‚Üì\n   -1       0    \n‚Üì       ‚Üì       ‚Üì\n4 rows, 5 columns\n\n\nwrite code to print the in shape and out shape and the diff in rows and cols in between in a way that the numbers a right aligned (rows to rows and cols to cols)\n\nü§ñReplyü§ñ\nüß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†üß†\nin_rows, in_cols = meta_dict['in_df_shape']\nout_rows, out_cols = meta_dict['out_df_shape']\ndiff_rows, diff_cols = out_rows - in_rows, out_cols - in_cols\n\n# Format with sign for diff\ndiff_rows_str = f\"{diff_rows:+d}\" if diff_rows != 0 else \"0\"\ndiff_cols_str = f\"{diff_cols:+d}\" if diff_cols != 0 else \"0\"\n\n# Right-align each column\nrow_width = max(len(str(in_rows)), len(str(out_rows)), len(diff_rows_str))\ncol_width = max(len(str(in_cols)), len(str(out_cols)), len(diff_cols_str))\n\nprint(f\"{in_rows:&gt;{row_width}} rows, {in_cols:&gt;{col_width}} cols\")\nprint(f\"{' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\")\nprint(f\"{diff_rows_str:&gt;{row_width}}      {diff_cols_str:&gt;{col_width}}\")\nprint(f\"{' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\")\nprint(f\"{out_rows:&gt;{row_width}} rows, {out_cols:&gt;{col_width}} cols\")\n\nin_rows, in_cols = meta_dict['in_df_shape']\nout_rows, out_cols = meta_dict['out_df_shape']\ndiff_rows, diff_cols = out_rows - in_rows, out_cols - in_cols\n\ndiff_rows_str = f\"{diff_rows:+d}\" if diff_rows != 0 else \"0\"\ndiff_cols_str = f\"{diff_cols:+d}\" if diff_cols != 0 else \"0\"\n\n# Right-align each column\nrow_width = max(len(str(in_rows)), len(str(out_rows)), len(diff_rows_str))\ncol_width = max(len(str(in_cols)), len(str(out_cols)), len(diff_cols_str))\n\nprint(f\"Input:  {in_rows:&gt;{row_width}} rows, {in_cols:&gt;{col_width}} cols\")\nprint(f\"        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\")\nprint(f\"Diff:   {diff_rows_str:&gt;{row_width}} rows, {diff_cols_str:&gt;{col_width}} cols\")\nprint(f\"        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\")\nprint(f\"Output: {out_rows:&gt;{row_width}} rows, {out_cols:&gt;{col_width}} cols\")\n\nInput:   5 rows, 5 cols\n             ‚Üì       ‚Üì\nDiff:   -1 rows, 0 cols\n             ‚Üì       ‚Üì\nOutput:  4 rows, 5 cols\n\n\nwrite this into a big f_string\n\n\nü§ñReplyü§ñ\nHere‚Äôs how to combine it into one f-string:\nprint(f\"\"\"Input:  {in_rows:&gt;{row_width}} rows, {in_cols:&gt;{col_width}} cols\n        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\nDiff:   {diff_rows_str:&gt;{row_width}} rows, {diff_cols_str:&gt;{col_width}} cols\n        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\nOutput: {out_rows:&gt;{row_width}} rows, {out_cols:&gt;{col_width}} cols\"\"\")\nThe triple quotes \"\"\" let you write multi-line strings with all the formatting preserved.\n\nprint(f\"\"\"\nInput:  {in_rows:&gt;{row_width}} rows, {in_cols:&gt;{col_width}} cols\n        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\nDiff:   {diff_rows_str:&gt;{row_width}} rows, {diff_cols_str:&gt;{col_width}} cols\n        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\nOutput: {out_rows:&gt;{row_width}} rows, {out_cols:&gt;{col_width}} cols\n\"\"\")\n\n\nInput:   5 rows, 5 cols\n             ‚Üì       ‚Üì\nDiff:   -1 rows, 0 cols\n             ‚Üì       ‚Üì\nOutput:  4 rows, 5 cols\n\n\n\nwrite a function to display this which takes the meta_dict as input\n\n\nü§ñReplyü§ñ\ndef display_shape_change(meta_dict):\n    in_rows, in_cols = meta_dict['in_df_shape']\n    out_rows, out_cols = meta_dict['out_df_shape']\n    diff_rows, diff_cols = out_rows - in_rows, out_cols - in_cols\n    \n    diff_rows_str = f\"{diff_rows:+d}\" if diff_rows != 0 else \"0\"\n    diff_cols_str = f\"{diff_cols:+d}\" if diff_cols != 0 else \"0\"\n    \n    row_width = max(len(str(in_rows)), len(str(out_rows)), len(diff_rows_str))\n    col_width = max(len(str(in_cols)), len(str(out_cols)), len(diff_cols_str))\n    \n    print(f\"\"\"\nInput:  {in_rows:&gt;{row_width}} rows, {in_cols:&gt;{col_width}} cols\n        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\nDiff:   {diff_rows_str:&gt;{row_width}} rows, {diff_cols_str:&gt;{col_width}} cols\n        {' '*row_width}   ‚Üì   {' '*col_width}   ‚Üì\nOutput: {out_rows:&gt;{row_width}} rows, {out_cols:&gt;{col_width}} cols\n\"\"\")\nTry calling it with display_shape_change(meta_dict) to test it out!\n\nsource\n\n\n\nprint_shape_change\n\ndef print_shape_change(\n    meta_dict\n):\n\n\nprint_shape_change(meta_dict)\n\n\n        Input:   5 rows, 5 cols\n                     ‚Üì       ‚Üì\n        Diff:   -1 rows, 0 cols\n                     ‚Üì       ‚Üì\n        Output:  4 rows, 5 cols",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "etl.html#print-all-function",
    "href": "etl.html#print-all-function",
    "title": "ETL",
    "section": "print all function",
    "text": "print all function\nmake one big print_step_infos function with our defined functions\n\nü§ñReplyü§ñ\nHere‚Äôs a combined function that uses all the display functions you‚Äôve created:\ndef print_step_info(meta_dict):\n    print_step_name(meta_dict)\n    print_time(meta_dict)\n    print_shape_change(meta_dict)\n    print(\"\\nInput DataFrame:\")\n    print_sample_from_meta_dict(meta_dict, mode='in')\n    print(\"\\nOutput DataFrame:\")\n    print_sample_from_meta_dict(meta_dict, mode='out')\nThis brings together all your display functions into one. Would you like to test it with your meta_dict, or would you prefer to adjust what information gets displayed or the order?\n\nsource\n\n\nprint_step_info\n\ndef print_step_info(\n    meta_dict\n):\n\n\nprint_step_info(meta_dict)\n\n*************** filter_products ***************\nTotal Time: 1.29 ms\n\nStart: 2025-12-18 16:09:32.626829\n  End: 2025-12-18 16:09:32.627481\n\nInput DataFrame:\n  order_id   product quantity defects production_time\n0      101  Widget A       50       2             120\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n         :         :        :       :               :\n2      103  Widget A       75       3             150\n4      105  Widget B       45       2             110\n1      102  Widget B       30       1              95\n0      101  Widget A       50       2             120\n3      104  Widget C       20       0              80\n         :         :        :       :               :\n2      103  Widget A       75       3             150\n3      104  Widget C       20       0              80\n4      105  Widget B       45       2             110\n\n        Input:   5 rows, 5 cols\n                     ‚Üì       ‚Üì\n        Diff:   -1 rows, 0 cols\n                     ‚Üì       ‚Üì\n        Output:  4 rows, 5 cols\n        \nOutput DataFrame:\n  order_id   product quantity defects production_time\n0      101  Widget A       50       2             120\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n         :         :        :       :               :\n2      103  Widget A       75       3             150\n0      101  Widget A       50       2             120\n1      102  Widget B       30       1              95\n4      105  Widget B       45       2             110\n         :         :        :       :               :\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n4      105  Widget B       45       2             110",
    "crumbs": [
      "ETL"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "mis_core",
    "section": "",
    "text": "This file will become your README and also the index of your documentation.",
    "crumbs": [
      "mis_core"
    ]
  },
  {
    "objectID": "index.html#developer-guide",
    "href": "index.html#developer-guide",
    "title": "mis_core",
    "section": "Developer Guide",
    "text": "Developer Guide\nIf you are new to using nbdev here are some useful pointers to get you started.\n\nInstall mis_core in Development mode\n# make sure mis_core package is installed in development mode\n$ pip install -e .\n\n# make changes under nbs/ directory\n# ...\n\n# compile to have changes apply to mis_core\n$ nbdev_prepare",
    "crumbs": [
      "mis_core"
    ]
  },
  {
    "objectID": "index.html#usage",
    "href": "index.html#usage",
    "title": "mis_core",
    "section": "Usage",
    "text": "Usage\n\ndf = get_demo_data()\ndf\n\n\n\n\n\n\n\n\norder_id\nproduct\nquantity\ndefects\nproduction_time\n\n\n\n\n0\n101\nWidget A\n50\n2\n120\n\n\n1\n102\nWidget B\n30\n1\n95\n\n\n2\n103\nWidget A\n75\n3\n150\n\n\n3\n104\nWidget C\n20\n0\n80\n\n\n4\n105\nWidget B\n45\n2\n110\n\n\n\n\n\n\n\n\n@track\ndef aggregate_by_product(df):\n    return df.groupby([\"product\"])[[\"quantity\", \"defects\", \"production_time\"]].sum()\n\n\n@track\ndef filter_products(df):\n    return df[df[\"product\"] != \"Widget C\"]\n\n\nsteps = [\n    (filter_products, {'vrbs':True}),\n    (aggregate_by_product, {}),\n]\n\n\n_df = pipeline(df, steps, vrbs_default=False)\n\n*************** filter_products ***************\nTotal Time: 1.75 ms\n\nStart: 2025-12-18 16:05:55.759474\n  End: 2025-12-18 16:05:55.761225\n\nInput DataFrame:\n  order_id   product quantity defects production_time\n0      101  Widget A       50       2             120\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n         :         :        :       :               :\n3      104  Widget C       20       0              80\n1      102  Widget B       30       1              95\n4      105  Widget B       45       2             110\n0      101  Widget A       50       2             120\n2      103  Widget A       75       3             150\n         :         :        :       :               :\n2      103  Widget A       75       3             150\n3      104  Widget C       20       0              80\n4      105  Widget B       45       2             110\n\n        Input:   5 rows, 5 cols\n                     ‚Üì       ‚Üì\n        Diff:   -1 rows, 0 cols\n                     ‚Üì       ‚Üì\n        Output:  4 rows, 5 cols\n        \nOutput DataFrame:\n  order_id   product quantity defects production_time\n0      101  Widget A       50       2             120\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n         :         :        :       :               :\n4      105  Widget B       45       2             110\n0      101  Widget A       50       2             120\n2      103  Widget A       75       3             150\n1      102  Widget B       30       1              95\n         :         :        :       :               :\n1      102  Widget B       30       1              95\n2      103  Widget A       75       3             150\n4      105  Widget B       45       2             110\n\n\n\n\n\nInstallation\nInstall latest from the GitHub repository:\n$ pip install git+https://github.com/MIS-Analytics/mis_core.git\nor from conda\n$ conda install -c MIS-Analytics mis_core\nor from pypi\n$ pip install mis_core\n\n\nDocumentation\nDocumentation can be found hosted on this GitHub repository‚Äôs pages. Additionally you can find package manager specific guidelines on conda and pypi respectively.",
    "crumbs": [
      "mis_core"
    ]
  },
  {
    "objectID": "index.html#how-to-use",
    "href": "index.html#how-to-use",
    "title": "mis_core",
    "section": "How to use",
    "text": "How to use\nFill me in please! Don‚Äôt forget code examples:\n\n1+1\n\n2",
    "crumbs": [
      "mis_core"
    ]
  }
]